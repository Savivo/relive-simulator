{"version":3,"file":"workbox-core.dev.js","sources":["../_version.js","../_private/logger.js","../models/messages/messages.js","../models/messages/messageGenerator.js","../_private/WorkboxError.js","../_private/assert.js","../models/quotaErrorCallbacks.js","../registerQuotaErrorCallback.js","../_private/cacheNames.js","../_private/cacheMatchIgnoreParams.js","../_private/canConstructReadableStream.js","../_private/canConstructResponseFromBodyStream.js","../_private/dontWaitFor.js","../_private/Deferred.js","../_private/executeQuotaErrorCallbacks.js","../_private/getFriendlyURL.js","../_private/timeout.js","../_private/resultingClientExists.js","../_private/waitUntil.js","../_private.js","../cacheNames.js","../copyResponse.js","../clientsClaim.js","../setCacheNameDetails.js","../skipWaiting.js"],"sourcesContent":["\"use strict\";\r\n// @ts-ignore\r\ntry {\r\n    self['workbox:core:6.6.0'] && _();\r\n}\r\ncatch (e) { }\r\n","/*\r\n  Copyright 2019 Google LLC\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport '../_version.js';\r\nconst logger = (process.env.NODE_ENV === 'production'\r\n    ? null\r\n    : (() => {\r\n        // Don't overwrite this value if it's already set.\r\n        // See https://github.com/GoogleChrome/workbox/pull/2284#issuecomment-560470923\r\n        if (!('__WB_DISABLE_DEV_LOGS' in globalThis)) {\r\n            self.__WB_DISABLE_DEV_LOGS = false;\r\n        }\r\n        let inGroup = false;\r\n        const methodToColorMap = {\r\n            debug: `#7f8c8d`,\r\n            log: `#2ecc71`,\r\n            warn: `#f39c12`,\r\n            error: `#c0392b`,\r\n            groupCollapsed: `#3498db`,\r\n            groupEnd: null, // No colored prefix on groupEnd\r\n        };\r\n        const print = function (method, args) {\r\n            if (self.__WB_DISABLE_DEV_LOGS) {\r\n                return;\r\n            }\r\n            if (method === 'groupCollapsed') {\r\n                // Safari doesn't print all console.groupCollapsed() arguments:\r\n                // https://bugs.webkit.org/show_bug.cgi?id=182754\r\n                if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\r\n                    console[method](...args);\r\n                    return;\r\n                }\r\n            }\r\n            const styles = [\r\n                `background: ${methodToColorMap[method]}`,\r\n                `border-radius: 0.5em`,\r\n                `color: white`,\r\n                `font-weight: bold`,\r\n                `padding: 2px 0.5em`,\r\n            ];\r\n            // When in a group, the workbox prefix is not displayed.\r\n            const logPrefix = inGroup ? [] : ['%cworkbox', styles.join(';')];\r\n            console[method](...logPrefix, ...args);\r\n            if (method === 'groupCollapsed') {\r\n                inGroup = true;\r\n            }\r\n            if (method === 'groupEnd') {\r\n                inGroup = false;\r\n            }\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/ban-types\r\n        const api = {};\r\n        const loggerMethods = Object.keys(methodToColorMap);\r\n        for (const key of loggerMethods) {\r\n            const method = key;\r\n            api[method] = (...args) => {\r\n                print(method, args);\r\n            };\r\n        }\r\n        return api;\r\n    })());\r\nexport { logger };\r\n","/*\r\n  Copyright 2018 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport '../../_version.js';\r\nexport const messages = {\r\n    'invalid-value': ({ paramName, validValueDescription, value }) => {\r\n        if (!paramName || !validValueDescription) {\r\n            throw new Error(`Unexpected input to 'invalid-value' error.`);\r\n        }\r\n        return (`The '${paramName}' parameter was given a value with an ` +\r\n            `unexpected value. ${validValueDescription} Received a value of ` +\r\n            `${JSON.stringify(value)}.`);\r\n    },\r\n    'not-an-array': ({ moduleName, className, funcName, paramName }) => {\r\n        if (!moduleName || !className || !funcName || !paramName) {\r\n            throw new Error(`Unexpected input to 'not-an-array' error.`);\r\n        }\r\n        return (`The parameter '${paramName}' passed into ` +\r\n            `'${moduleName}.${className}.${funcName}()' must be an array.`);\r\n    },\r\n    'incorrect-type': ({ expectedType, paramName, moduleName, className, funcName, }) => {\r\n        if (!expectedType || !paramName || !moduleName || !funcName) {\r\n            throw new Error(`Unexpected input to 'incorrect-type' error.`);\r\n        }\r\n        const classNameStr = className ? `${className}.` : '';\r\n        return (`The parameter '${paramName}' passed into ` +\r\n            `'${moduleName}.${classNameStr}` +\r\n            `${funcName}()' must be of type ${expectedType}.`);\r\n    },\r\n    'incorrect-class': ({ expectedClassName, paramName, moduleName, className, funcName, isReturnValueProblem, }) => {\r\n        if (!expectedClassName || !moduleName || !funcName) {\r\n            throw new Error(`Unexpected input to 'incorrect-class' error.`);\r\n        }\r\n        const classNameStr = className ? `${className}.` : '';\r\n        if (isReturnValueProblem) {\r\n            return (`The return value from ` +\r\n                `'${moduleName}.${classNameStr}${funcName}()' ` +\r\n                `must be an instance of class ${expectedClassName}.`);\r\n        }\r\n        return (`The parameter '${paramName}' passed into ` +\r\n            `'${moduleName}.${classNameStr}${funcName}()' ` +\r\n            `must be an instance of class ${expectedClassName}.`);\r\n    },\r\n    'missing-a-method': ({ expectedMethod, paramName, moduleName, className, funcName, }) => {\r\n        if (!expectedMethod ||\r\n            !paramName ||\r\n            !moduleName ||\r\n            !className ||\r\n            !funcName) {\r\n            throw new Error(`Unexpected input to 'missing-a-method' error.`);\r\n        }\r\n        return (`${moduleName}.${className}.${funcName}() expected the ` +\r\n            `'${paramName}' parameter to expose a '${expectedMethod}' method.`);\r\n    },\r\n    'add-to-cache-list-unexpected-type': ({ entry }) => {\r\n        return (`An unexpected entry was passed to ` +\r\n            `'workbox-precaching.PrecacheController.addToCacheList()' The entry ` +\r\n            `'${JSON.stringify(entry)}' isn't supported. You must supply an array of ` +\r\n            `strings with one or more characters, objects with a url property or ` +\r\n            `Request objects.`);\r\n    },\r\n    'add-to-cache-list-conflicting-entries': ({ firstEntry, secondEntry }) => {\r\n        if (!firstEntry || !secondEntry) {\r\n            throw new Error(`Unexpected input to ` + `'add-to-cache-list-duplicate-entries' error.`);\r\n        }\r\n        return (`Two of the entries passed to ` +\r\n            `'workbox-precaching.PrecacheController.addToCacheList()' had the URL ` +\r\n            `${firstEntry} but different revision details. Workbox is ` +\r\n            `unable to cache and version the asset correctly. Please remove one ` +\r\n            `of the entries.`);\r\n    },\r\n    'plugin-error-request-will-fetch': ({ thrownErrorMessage }) => {\r\n        if (!thrownErrorMessage) {\r\n            throw new Error(`Unexpected input to ` + `'plugin-error-request-will-fetch', error.`);\r\n        }\r\n        return (`An error was thrown by a plugins 'requestWillFetch()' method. ` +\r\n            `The thrown error message was: '${thrownErrorMessage}'.`);\r\n    },\r\n    'invalid-cache-name': ({ cacheNameId, value }) => {\r\n        if (!cacheNameId) {\r\n            throw new Error(`Expected a 'cacheNameId' for error 'invalid-cache-name'`);\r\n        }\r\n        return (`You must provide a name containing at least one character for ` +\r\n            `setCacheDetails({${cacheNameId}: '...'}). Received a value of ` +\r\n            `'${JSON.stringify(value)}'`);\r\n    },\r\n    'unregister-route-but-not-found-with-method': ({ method }) => {\r\n        if (!method) {\r\n            throw new Error(`Unexpected input to ` +\r\n                `'unregister-route-but-not-found-with-method' error.`);\r\n        }\r\n        return (`The route you're trying to unregister was not  previously ` +\r\n            `registered for the method type '${method}'.`);\r\n    },\r\n    'unregister-route-route-not-registered': () => {\r\n        return (`The route you're trying to unregister was not previously ` +\r\n            `registered.`);\r\n    },\r\n    'queue-replay-failed': ({ name }) => {\r\n        return `Replaying the background sync queue '${name}' failed.`;\r\n    },\r\n    'duplicate-queue-name': ({ name }) => {\r\n        return (`The Queue name '${name}' is already being used. ` +\r\n            `All instances of backgroundSync.Queue must be given unique names.`);\r\n    },\r\n    'expired-test-without-max-age': ({ methodName, paramName }) => {\r\n        return (`The '${methodName}()' method can only be used when the ` +\r\n            `'${paramName}' is used in the constructor.`);\r\n    },\r\n    'unsupported-route-type': ({ moduleName, className, funcName, paramName }) => {\r\n        return (`The supplied '${paramName}' parameter was an unsupported type. ` +\r\n            `Please check the docs for ${moduleName}.${className}.${funcName} for ` +\r\n            `valid input types.`);\r\n    },\r\n    'not-array-of-class': ({ value, expectedClass, moduleName, className, funcName, paramName, }) => {\r\n        return (`The supplied '${paramName}' parameter must be an array of ` +\r\n            `'${expectedClass}' objects. Received '${JSON.stringify(value)},'. ` +\r\n            `Please check the call to ${moduleName}.${className}.${funcName}() ` +\r\n            `to fix the issue.`);\r\n    },\r\n    'max-entries-or-age-required': ({ moduleName, className, funcName }) => {\r\n        return (`You must define either config.maxEntries or config.maxAgeSeconds` +\r\n            `in ${moduleName}.${className}.${funcName}`);\r\n    },\r\n    'statuses-or-headers-required': ({ moduleName, className, funcName }) => {\r\n        return (`You must define either config.statuses or config.headers` +\r\n            `in ${moduleName}.${className}.${funcName}`);\r\n    },\r\n    'invalid-string': ({ moduleName, funcName, paramName }) => {\r\n        if (!paramName || !moduleName || !funcName) {\r\n            throw new Error(`Unexpected input to 'invalid-string' error.`);\r\n        }\r\n        return (`When using strings, the '${paramName}' parameter must start with ` +\r\n            `'http' (for cross-origin matches) or '/' (for same-origin matches). ` +\r\n            `Please see the docs for ${moduleName}.${funcName}() for ` +\r\n            `more info.`);\r\n    },\r\n    'channel-name-required': () => {\r\n        return (`You must provide a channelName to construct a ` +\r\n            `BroadcastCacheUpdate instance.`);\r\n    },\r\n    'invalid-responses-are-same-args': () => {\r\n        return (`The arguments passed into responsesAreSame() appear to be ` +\r\n            `invalid. Please ensure valid Responses are used.`);\r\n    },\r\n    'expire-custom-caches-only': () => {\r\n        return (`You must provide a 'cacheName' property when using the ` +\r\n            `expiration plugin with a runtime caching strategy.`);\r\n    },\r\n    'unit-must-be-bytes': ({ normalizedRangeHeader }) => {\r\n        if (!normalizedRangeHeader) {\r\n            throw new Error(`Unexpected input to 'unit-must-be-bytes' error.`);\r\n        }\r\n        return (`The 'unit' portion of the Range header must be set to 'bytes'. ` +\r\n            `The Range header provided was \"${normalizedRangeHeader}\"`);\r\n    },\r\n    'single-range-only': ({ normalizedRangeHeader }) => {\r\n        if (!normalizedRangeHeader) {\r\n            throw new Error(`Unexpected input to 'single-range-only' error.`);\r\n        }\r\n        return (`Multiple ranges are not supported. Please use a  single start ` +\r\n            `value, and optional end value. The Range header provided was ` +\r\n            `\"${normalizedRangeHeader}\"`);\r\n    },\r\n    'invalid-range-values': ({ normalizedRangeHeader }) => {\r\n        if (!normalizedRangeHeader) {\r\n            throw new Error(`Unexpected input to 'invalid-range-values' error.`);\r\n        }\r\n        return (`The Range header is missing both start and end values. At least ` +\r\n            `one of those values is needed. The Range header provided was ` +\r\n            `\"${normalizedRangeHeader}\"`);\r\n    },\r\n    'no-range-header': () => {\r\n        return `No Range header was found in the Request provided.`;\r\n    },\r\n    'range-not-satisfiable': ({ size, start, end }) => {\r\n        return (`The start (${start}) and end (${end}) values in the Range are ` +\r\n            `not satisfiable by the cached response, which is ${size} bytes.`);\r\n    },\r\n    'attempt-to-cache-non-get-request': ({ url, method }) => {\r\n        return (`Unable to cache '${url}' because it is a '${method}' request and ` +\r\n            `only 'GET' requests can be cached.`);\r\n    },\r\n    'cache-put-with-no-response': ({ url }) => {\r\n        return (`There was an attempt to cache '${url}' but the response was not ` +\r\n            `defined.`);\r\n    },\r\n    'no-response': ({ url, error }) => {\r\n        let message = `The strategy could not generate a response for '${url}'.`;\r\n        if (error) {\r\n            message += ` The underlying error is ${error}.`;\r\n        }\r\n        return message;\r\n    },\r\n    'bad-precaching-response': ({ url, status }) => {\r\n        return (`The precaching request for '${url}' failed` +\r\n            (status ? ` with an HTTP status of ${status}.` : `.`));\r\n    },\r\n    'non-precached-url': ({ url }) => {\r\n        return (`createHandlerBoundToURL('${url}') was called, but that URL is ` +\r\n            `not precached. Please pass in a URL that is precached instead.`);\r\n    },\r\n    'add-to-cache-list-conflicting-integrities': ({ url }) => {\r\n        return (`Two of the entries passed to ` +\r\n            `'workbox-precaching.PrecacheController.addToCacheList()' had the URL ` +\r\n            `${url} with different integrity values. Please remove one of them.`);\r\n    },\r\n    'missing-precache-entry': ({ cacheName, url }) => {\r\n        return `Unable to find a precached response in ${cacheName} for ${url}.`;\r\n    },\r\n    'cross-origin-copy-response': ({ origin }) => {\r\n        return (`workbox-core.copyResponse() can only be used with same-origin ` +\r\n            `responses. It was passed a response with origin ${origin}.`);\r\n    },\r\n    'opaque-streams-source': ({ type }) => {\r\n        const message = `One of the workbox-streams sources resulted in an ` +\r\n            `'${type}' response.`;\r\n        if (type === 'opaqueredirect') {\r\n            return (`${message} Please do not use a navigation request that results ` +\r\n                `in a redirect as a source.`);\r\n        }\r\n        return `${message} Please ensure your sources are CORS-enabled.`;\r\n    },\r\n};\r\n","/*\r\n  Copyright 2018 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport { messages } from './messages.js';\r\nimport '../../_version.js';\r\nconst fallback = (code, ...args) => {\r\n    let msg = code;\r\n    if (args.length > 0) {\r\n        msg += ` :: ${JSON.stringify(args)}`;\r\n    }\r\n    return msg;\r\n};\r\nconst generatorFunction = (code, details = {}) => {\r\n    const message = messages[code];\r\n    if (!message) {\r\n        throw new Error(`Unable to find message for code '${code}'.`);\r\n    }\r\n    return message(details);\r\n};\r\nexport const messageGenerator = process.env.NODE_ENV === 'production' ? fallback : generatorFunction;\r\n","/*\r\n  Copyright 2018 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport { messageGenerator } from '../models/messages/messageGenerator.js';\r\nimport '../_version.js';\r\n/**\r\n * Workbox errors should be thrown with this class.\r\n * This allows use to ensure the type easily in tests,\r\n * helps developers identify errors from workbox\r\n * easily and allows use to optimise error\r\n * messages correctly.\r\n *\r\n * @private\r\n */\r\nclass WorkboxError extends Error {\r\n    /**\r\n     *\r\n     * @param {string} errorCode The error code that\r\n     * identifies this particular error.\r\n     * @param {Object=} details Any relevant arguments\r\n     * that will help developers identify issues should\r\n     * be added as a key on the context object.\r\n     */\r\n    constructor(errorCode, details) {\r\n        const message = messageGenerator(errorCode, details);\r\n        super(message);\r\n        this.name = errorCode;\r\n        this.details = details;\r\n    }\r\n}\r\nexport { WorkboxError };\r\n","/*\r\n  Copyright 2018 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport { WorkboxError } from '../_private/WorkboxError.js';\r\nimport '../_version.js';\r\n/*\r\n * This method throws if the supplied value is not an array.\r\n * The destructed values are required to produce a meaningful error for users.\r\n * The destructed and restructured object is so it's clear what is\r\n * needed.\r\n */\r\nconst isArray = (value, details) => {\r\n    if (!Array.isArray(value)) {\r\n        throw new WorkboxError('not-an-array', details);\r\n    }\r\n};\r\nconst hasMethod = (object, expectedMethod, details) => {\r\n    const type = typeof object[expectedMethod];\r\n    if (type !== 'function') {\r\n        details['expectedMethod'] = expectedMethod;\r\n        throw new WorkboxError('missing-a-method', details);\r\n    }\r\n};\r\nconst isType = (object, expectedType, details) => {\r\n    if (typeof object !== expectedType) {\r\n        details['expectedType'] = expectedType;\r\n        throw new WorkboxError('incorrect-type', details);\r\n    }\r\n};\r\nconst isInstance = (object, \r\n// Need the general type to do the check later.\r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\nexpectedClass, details) => {\r\n    if (!(object instanceof expectedClass)) {\r\n        details['expectedClassName'] = expectedClass.name;\r\n        throw new WorkboxError('incorrect-class', details);\r\n    }\r\n};\r\nconst isOneOf = (value, validValues, details) => {\r\n    if (!validValues.includes(value)) {\r\n        details['validValueDescription'] = `Valid values are ${JSON.stringify(validValues)}.`;\r\n        throw new WorkboxError('invalid-value', details);\r\n    }\r\n};\r\nconst isArrayOfClass = (value, \r\n// Need general type to do check later.\r\nexpectedClass, // eslint-disable-line\r\ndetails) => {\r\n    const error = new WorkboxError('not-array-of-class', details);\r\n    if (!Array.isArray(value)) {\r\n        throw error;\r\n    }\r\n    for (const item of value) {\r\n        if (!(item instanceof expectedClass)) {\r\n            throw error;\r\n        }\r\n    }\r\n};\r\nconst finalAssertExports = process.env.NODE_ENV === 'production'\r\n    ? null\r\n    : {\r\n        hasMethod,\r\n        isArray,\r\n        isInstance,\r\n        isOneOf,\r\n        isType,\r\n        isArrayOfClass,\r\n    };\r\nexport { finalAssertExports as assert };\r\n","/*\r\n  Copyright 2018 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport '../_version.js';\r\n// Callbacks to be executed whenever there's a quota error.\r\n// Can't change Function type right now.\r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\nconst quotaErrorCallbacks = new Set();\r\nexport { quotaErrorCallbacks };\r\n","/*\r\n  Copyright 2019 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport { logger } from './_private/logger.js';\r\nimport { assert } from './_private/assert.js';\r\nimport { quotaErrorCallbacks } from './models/quotaErrorCallbacks.js';\r\nimport './_version.js';\r\n/**\r\n * Adds a function to the set of quotaErrorCallbacks that will be executed if\r\n * there's a quota error.\r\n *\r\n * @param {Function} callback\r\n * @memberof workbox-core\r\n */\r\n// Can't change Function type\r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\nfunction registerQuotaErrorCallback(callback) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n        assert.isType(callback, 'function', {\r\n            moduleName: 'workbox-core',\r\n            funcName: 'register',\r\n            paramName: 'callback',\r\n        });\r\n    }\r\n    quotaErrorCallbacks.add(callback);\r\n    if (process.env.NODE_ENV !== 'production') {\r\n        logger.log('Registered a callback to respond to quota errors.', callback);\r\n    }\r\n}\r\nexport { registerQuotaErrorCallback };\r\n","/*\r\n  Copyright 2018 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport '../_version.js';\r\nconst _cacheNameDetails = {\r\n    googleAnalytics: 'googleAnalytics',\r\n    precache: 'precache-v2',\r\n    prefix: 'workbox',\r\n    runtime: 'runtime',\r\n    suffix: typeof registration !== 'undefined' ? registration.scope : '',\r\n};\r\nconst _createCacheName = (cacheName) => {\r\n    return [_cacheNameDetails.prefix, cacheName, _cacheNameDetails.suffix]\r\n        .filter((value) => value && value.length > 0)\r\n        .join('-');\r\n};\r\nconst eachCacheNameDetail = (fn) => {\r\n    for (const key of Object.keys(_cacheNameDetails)) {\r\n        fn(key);\r\n    }\r\n};\r\nexport const cacheNames = {\r\n    updateDetails: (details) => {\r\n        eachCacheNameDetail((key) => {\r\n            if (typeof details[key] === 'string') {\r\n                _cacheNameDetails[key] = details[key];\r\n            }\r\n        });\r\n    },\r\n    getGoogleAnalyticsName: (userCacheName) => {\r\n        return userCacheName || _createCacheName(_cacheNameDetails.googleAnalytics);\r\n    },\r\n    getPrecacheName: (userCacheName) => {\r\n        return userCacheName || _createCacheName(_cacheNameDetails.precache);\r\n    },\r\n    getPrefix: () => {\r\n        return _cacheNameDetails.prefix;\r\n    },\r\n    getRuntimeName: (userCacheName) => {\r\n        return userCacheName || _createCacheName(_cacheNameDetails.runtime);\r\n    },\r\n    getSuffix: () => {\r\n        return _cacheNameDetails.suffix;\r\n    },\r\n};\r\n","/*\r\n  Copyright 2020 Google LLC\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport '../_version.js';\r\nfunction stripParams(fullURL, ignoreParams) {\r\n    const strippedURL = new URL(fullURL);\r\n    for (const param of ignoreParams) {\r\n        strippedURL.searchParams.delete(param);\r\n    }\r\n    return strippedURL.href;\r\n}\r\n/**\r\n * Matches an item in the cache, ignoring specific URL params. This is similar\r\n * to the `ignoreSearch` option, but it allows you to ignore just specific\r\n * params (while continuing to match on the others).\r\n *\r\n * @private\r\n * @param {Cache} cache\r\n * @param {Request} request\r\n * @param {Object} matchOptions\r\n * @param {Array<string>} ignoreParams\r\n * @return {Promise<Response|undefined>}\r\n */\r\nasync function cacheMatchIgnoreParams(cache, request, ignoreParams, matchOptions) {\r\n    const strippedRequestURL = stripParams(request.url, ignoreParams);\r\n    // If the request doesn't include any ignored params, match as normal.\r\n    if (request.url === strippedRequestURL) {\r\n        return cache.match(request, matchOptions);\r\n    }\r\n    // Otherwise, match by comparing keys\r\n    const keysOptions = Object.assign(Object.assign({}, matchOptions), { ignoreSearch: true });\r\n    const cacheKeys = await cache.keys(request, keysOptions);\r\n    for (const cacheKey of cacheKeys) {\r\n        const strippedCacheKeyURL = stripParams(cacheKey.url, ignoreParams);\r\n        if (strippedRequestURL === strippedCacheKeyURL) {\r\n            return cache.match(cacheKey, matchOptions);\r\n        }\r\n    }\r\n    return;\r\n}\r\nexport { cacheMatchIgnoreParams };\r\n","/*\r\n  Copyright 2019 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport '../_version.js';\r\nlet supportStatus;\r\n/**\r\n * A utility function that determines whether the current browser supports\r\n * constructing a [`ReadableStream`](https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream/ReadableStream)\r\n * object.\r\n *\r\n * @return {boolean} `true`, if the current browser can successfully\r\n *     construct a `ReadableStream`, `false` otherwise.\r\n *\r\n * @private\r\n */\r\nfunction canConstructReadableStream() {\r\n    if (supportStatus === undefined) {\r\n        // See https://github.com/GoogleChrome/workbox/issues/1473\r\n        try {\r\n            new ReadableStream({ start() { } });\r\n            supportStatus = true;\r\n        }\r\n        catch (error) {\r\n            supportStatus = false;\r\n        }\r\n    }\r\n    return supportStatus;\r\n}\r\nexport { canConstructReadableStream };\r\n","/*\r\n  Copyright 2019 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport '../_version.js';\r\nlet supportStatus;\r\n/**\r\n * A utility function that determines whether the current browser supports\r\n * constructing a new `Response` from a `response.body` stream.\r\n *\r\n * @return {boolean} `true`, if the current browser can successfully\r\n *     construct a `Response` from a `response.body` stream, `false` otherwise.\r\n *\r\n * @private\r\n */\r\nfunction canConstructResponseFromBodyStream() {\r\n    if (supportStatus === undefined) {\r\n        const testResponse = new Response('');\r\n        if ('body' in testResponse) {\r\n            try {\r\n                new Response(testResponse.body);\r\n                supportStatus = true;\r\n            }\r\n            catch (error) {\r\n                supportStatus = false;\r\n            }\r\n        }\r\n        supportStatus = false;\r\n    }\r\n    return supportStatus;\r\n}\r\nexport { canConstructResponseFromBodyStream };\r\n","/*\r\n  Copyright 2019 Google LLC\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport '../_version.js';\r\n/**\r\n * A helper function that prevents a promise from being flagged as unused.\r\n *\r\n * @private\r\n **/\r\nexport function dontWaitFor(promise) {\r\n    // Effective no-op.\r\n    void promise.then(() => { });\r\n}\r\n","/*\r\n  Copyright 2018 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport '../_version.js';\r\n/**\r\n * The Deferred class composes Promises in a way that allows for them to be\r\n * resolved or rejected from outside the constructor. In most cases promises\r\n * should be used directly, but Deferreds can be necessary when the logic to\r\n * resolve a promise must be separate.\r\n *\r\n * @private\r\n */\r\nclass Deferred {\r\n    /**\r\n     * Creates a promise and exposes its resolve and reject functions as methods.\r\n     */\r\n    constructor() {\r\n        this.promise = new Promise((resolve, reject) => {\r\n            this.resolve = resolve;\r\n            this.reject = reject;\r\n        });\r\n    }\r\n}\r\nexport { Deferred };\r\n","/*\r\n  Copyright 2018 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport { logger } from '../_private/logger.js';\r\nimport { quotaErrorCallbacks } from '../models/quotaErrorCallbacks.js';\r\nimport '../_version.js';\r\n/**\r\n * Runs all of the callback functions, one at a time sequentially, in the order\r\n * in which they were registered.\r\n *\r\n * @memberof workbox-core\r\n * @private\r\n */\r\nasync function executeQuotaErrorCallbacks() {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n        logger.log(`About to run ${quotaErrorCallbacks.size} ` +\r\n            `callbacks to clean up caches.`);\r\n    }\r\n    for (const callback of quotaErrorCallbacks) {\r\n        await callback();\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            logger.log(callback, 'is complete.');\r\n        }\r\n    }\r\n    if (process.env.NODE_ENV !== 'production') {\r\n        logger.log('Finished running callbacks.');\r\n    }\r\n}\r\nexport { executeQuotaErrorCallbacks };\r\n","/*\r\n  Copyright 2018 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport '../_version.js';\r\nconst getFriendlyURL = (url) => {\r\n    const urlObj = new URL(String(url), location.href);\r\n    // See https://github.com/GoogleChrome/workbox/issues/2323\r\n    // We want to include everything, except for the origin if it's same-origin.\r\n    return urlObj.href.replace(new RegExp(`^${location.origin}`), '');\r\n};\r\nexport { getFriendlyURL };\r\n","/*\r\n  Copyright 2019 Google LLC\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport '../_version.js';\r\n/**\r\n * Returns a promise that resolves and the passed number of milliseconds.\r\n * This utility is an async/await-friendly version of `setTimeout`.\r\n *\r\n * @param {number} ms\r\n * @return {Promise}\r\n * @private\r\n */\r\nexport function timeout(ms) {\r\n    return new Promise((resolve) => setTimeout(resolve, ms));\r\n}\r\n","/*\r\n  Copyright 2019 Google LLC\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport { timeout } from './timeout.js';\r\nimport '../_version.js';\r\nconst MAX_RETRY_TIME = 2000;\r\n/**\r\n * Returns a promise that resolves to a window client matching the passed\r\n * `resultingClientId`. For browsers that don't support `resultingClientId`\r\n * or if waiting for the resulting client to apper takes too long, resolve to\r\n * `undefined`.\r\n *\r\n * @param {string} [resultingClientId]\r\n * @return {Promise<Client|undefined>}\r\n * @private\r\n */\r\nexport async function resultingClientExists(resultingClientId) {\r\n    if (!resultingClientId) {\r\n        return;\r\n    }\r\n    let existingWindows = await self.clients.matchAll({ type: 'window' });\r\n    const existingWindowIds = new Set(existingWindows.map((w) => w.id));\r\n    let resultingWindow;\r\n    const startTime = performance.now();\r\n    // Only wait up to `MAX_RETRY_TIME` to find a matching client.\r\n    while (performance.now() - startTime < MAX_RETRY_TIME) {\r\n        existingWindows = await self.clients.matchAll({ type: 'window' });\r\n        resultingWindow = existingWindows.find((w) => {\r\n            if (resultingClientId) {\r\n                // If we have a `resultingClientId`, we can match on that.\r\n                return w.id === resultingClientId;\r\n            }\r\n            else {\r\n                // Otherwise match on finding a window not in `existingWindowIds`.\r\n                return !existingWindowIds.has(w.id);\r\n            }\r\n        });\r\n        if (resultingWindow) {\r\n            break;\r\n        }\r\n        // Sleep for 100ms and retry.\r\n        await timeout(100);\r\n    }\r\n    return resultingWindow;\r\n}\r\n","/*\r\n  Copyright 2020 Google LLC\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport '../_version.js';\r\n/**\r\n * A utility method that makes it easier to use `event.waitUntil` with\r\n * async functions and return the result.\r\n *\r\n * @param {ExtendableEvent} event\r\n * @param {Function} asyncFn\r\n * @return {Function}\r\n * @private\r\n */\r\nfunction waitUntil(event, asyncFn) {\r\n    const returnPromise = asyncFn();\r\n    event.waitUntil(returnPromise);\r\n    return returnPromise;\r\n}\r\nexport { waitUntil };\r\n","/*\r\n  Copyright 2018 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\n// We either expose defaults or we expose every named export.\r\nimport { assert } from './_private/assert.js';\r\nimport { cacheNames } from './_private/cacheNames.js';\r\nimport { cacheMatchIgnoreParams } from './_private/cacheMatchIgnoreParams.js';\r\nimport { canConstructReadableStream } from './_private/canConstructReadableStream.js';\r\nimport { canConstructResponseFromBodyStream } from './_private/canConstructResponseFromBodyStream.js';\r\nimport { dontWaitFor } from './_private/dontWaitFor.js';\r\nimport { Deferred } from './_private/Deferred.js';\r\nimport { executeQuotaErrorCallbacks } from './_private/executeQuotaErrorCallbacks.js';\r\nimport { getFriendlyURL } from './_private/getFriendlyURL.js';\r\nimport { logger } from './_private/logger.js';\r\nimport { resultingClientExists } from './_private/resultingClientExists.js';\r\nimport { timeout } from './_private/timeout.js';\r\nimport { waitUntil } from './_private/waitUntil.js';\r\nimport { WorkboxError } from './_private/WorkboxError.js';\r\nimport './_version.js';\r\nexport { assert, cacheMatchIgnoreParams, cacheNames, canConstructReadableStream, canConstructResponseFromBodyStream, dontWaitFor, Deferred, executeQuotaErrorCallbacks, getFriendlyURL, logger, resultingClientExists, timeout, waitUntil, WorkboxError, };\r\n","/*\r\n  Copyright 2019 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport { cacheNames as _cacheNames } from './_private/cacheNames.js';\r\nimport './_version.js';\r\n/**\r\n * Get the current cache names and prefix/suffix used by Workbox.\r\n *\r\n * `cacheNames.precache` is used for precached assets,\r\n * `cacheNames.googleAnalytics` is used by `workbox-google-analytics` to\r\n * store `analytics.js`, and `cacheNames.runtime` is used for everything else.\r\n *\r\n * `cacheNames.prefix` can be used to retrieve just the current prefix value.\r\n * `cacheNames.suffix` can be used to retrieve just the current suffix value.\r\n *\r\n * @return {Object} An object with `precache`, `runtime`, `prefix`, and\r\n *     `googleAnalytics` properties.\r\n *\r\n * @memberof workbox-core\r\n */\r\nconst cacheNames = {\r\n    get googleAnalytics() {\r\n        return _cacheNames.getGoogleAnalyticsName();\r\n    },\r\n    get precache() {\r\n        return _cacheNames.getPrecacheName();\r\n    },\r\n    get prefix() {\r\n        return _cacheNames.getPrefix();\r\n    },\r\n    get runtime() {\r\n        return _cacheNames.getRuntimeName();\r\n    },\r\n    get suffix() {\r\n        return _cacheNames.getSuffix();\r\n    },\r\n};\r\nexport { cacheNames };\r\n","/*\r\n  Copyright 2019 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport { canConstructResponseFromBodyStream } from './_private/canConstructResponseFromBodyStream.js';\r\nimport { WorkboxError } from './_private/WorkboxError.js';\r\nimport './_version.js';\r\n/**\r\n * Allows developers to copy a response and modify its `headers`, `status`,\r\n * or `statusText` values (the values settable via a\r\n * [`ResponseInit`]{@link https://developer.mozilla.org/en-US/docs/Web/API/Response/Response#Syntax}\r\n * object in the constructor).\r\n * To modify these values, pass a function as the second argument. That\r\n * function will be invoked with a single object with the response properties\r\n * `{headers, status, statusText}`. The return value of this function will\r\n * be used as the `ResponseInit` for the new `Response`. To change the values\r\n * either modify the passed parameter(s) and return it, or return a totally\r\n * new object.\r\n *\r\n * This method is intentionally limited to same-origin responses, regardless of\r\n * whether CORS was used or not.\r\n *\r\n * @param {Response} response\r\n * @param {Function} modifier\r\n * @memberof workbox-core\r\n */\r\nasync function copyResponse(response, modifier) {\r\n    let origin = null;\r\n    // If response.url isn't set, assume it's cross-origin and keep origin null.\r\n    if (response.url) {\r\n        const responseURL = new URL(response.url);\r\n        origin = responseURL.origin;\r\n    }\r\n    if (origin !== self.location.origin) {\r\n        throw new WorkboxError('cross-origin-copy-response', { origin });\r\n    }\r\n    const clonedResponse = response.clone();\r\n    // Create a fresh `ResponseInit` object by cloning the headers.\r\n    const responseInit = {\r\n        headers: new Headers(clonedResponse.headers),\r\n        status: clonedResponse.status,\r\n        statusText: clonedResponse.statusText,\r\n    };\r\n    // Apply any user modifications.\r\n    const modifiedResponseInit = modifier ? modifier(responseInit) : responseInit;\r\n    // Create the new response from the body stream and `ResponseInit`\r\n    // modifications. Note: not all browsers support the Response.body stream,\r\n    // so fall back to reading the entire body into memory as a blob.\r\n    const body = canConstructResponseFromBodyStream()\r\n        ? clonedResponse.body\r\n        : await clonedResponse.blob();\r\n    return new Response(body, modifiedResponseInit);\r\n}\r\nexport { copyResponse };\r\n","/*\r\n  Copyright 2019 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport './_version.js';\r\n/**\r\n * Claim any currently available clients once the service worker\r\n * becomes active. This is normally used in conjunction with `skipWaiting()`.\r\n *\r\n * @memberof workbox-core\r\n */\r\nfunction clientsClaim() {\r\n    self.addEventListener('activate', () => self.clients.claim());\r\n}\r\nexport { clientsClaim };\r\n","/*\r\n  Copyright 2019 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport { assert } from './_private/assert.js';\r\nimport { cacheNames } from './_private/cacheNames.js';\r\nimport { WorkboxError } from './_private/WorkboxError.js';\r\nimport './_version.js';\r\n/**\r\n * Modifies the default cache names used by the Workbox packages.\r\n * Cache names are generated as `<prefix>-<Cache Name>-<suffix>`.\r\n *\r\n * @param {Object} details\r\n * @param {Object} [details.prefix] The string to add to the beginning of\r\n *     the precache and runtime cache names.\r\n * @param {Object} [details.suffix] The string to add to the end of\r\n *     the precache and runtime cache names.\r\n * @param {Object} [details.precache] The cache name to use for precache\r\n *     caching.\r\n * @param {Object} [details.runtime] The cache name to use for runtime caching.\r\n * @param {Object} [details.googleAnalytics] The cache name to use for\r\n *     `workbox-google-analytics` caching.\r\n *\r\n * @memberof workbox-core\r\n */\r\nfunction setCacheNameDetails(details) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n        Object.keys(details).forEach((key) => {\r\n            assert.isType(details[key], 'string', {\r\n                moduleName: 'workbox-core',\r\n                funcName: 'setCacheNameDetails',\r\n                paramName: `details.${key}`,\r\n            });\r\n        });\r\n        if ('precache' in details && details['precache'].length === 0) {\r\n            throw new WorkboxError('invalid-cache-name', {\r\n                cacheNameId: 'precache',\r\n                value: details['precache'],\r\n            });\r\n        }\r\n        if ('runtime' in details && details['runtime'].length === 0) {\r\n            throw new WorkboxError('invalid-cache-name', {\r\n                cacheNameId: 'runtime',\r\n                value: details['runtime'],\r\n            });\r\n        }\r\n        if ('googleAnalytics' in details &&\r\n            details['googleAnalytics'].length === 0) {\r\n            throw new WorkboxError('invalid-cache-name', {\r\n                cacheNameId: 'googleAnalytics',\r\n                value: details['googleAnalytics'],\r\n            });\r\n        }\r\n    }\r\n    cacheNames.updateDetails(details);\r\n}\r\nexport { setCacheNameDetails };\r\n","/*\r\n  Copyright 2019 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport { logger } from './_private/logger.js';\r\nimport './_version.js';\r\n/**\r\n * This method is deprecated, and will be removed in Workbox v7.\r\n *\r\n * Calling self.skipWaiting() is equivalent, and should be used instead.\r\n *\r\n * @memberof workbox-core\r\n */\r\nfunction skipWaiting() {\r\n    // Just call self.skipWaiting() directly.\r\n    // See https://github.com/GoogleChrome/workbox/issues/2525\r\n    if (process.env.NODE_ENV !== 'production') {\r\n        logger.warn(`skipWaiting() from workbox-core is no longer recommended ` +\r\n            `and will be removed in Workbox v7. Using self.skipWaiting() instead ` +\r\n            `is equivalent.`);\r\n    }\r\n    void self.skipWaiting();\r\n}\r\nexport { skipWaiting };\r\n"],"names":["self","_","e","logger","globalThis","__WB_DISABLE_DEV_LOGS","inGroup","methodToColorMap","debug","log","warn","error","groupCollapsed","groupEnd","print","method","args","test","navigator","userAgent","console","styles","logPrefix","join","api","loggerMethods","Object","keys","key","messages","paramName","validValueDescription","value","Error","JSON","stringify","moduleName","className","funcName","expectedType","classNameStr","expectedClassName","isReturnValueProblem","expectedMethod","entry","firstEntry","secondEntry","thrownErrorMessage","cacheNameId","name","methodName","expectedClass","normalizedRangeHeader","size","start","end","url","message","status","cacheName","origin","type","generatorFunction","code","details","messageGenerator","WorkboxError","constructor","errorCode","isArray","Array","hasMethod","object","isType","isInstance","isOneOf","validValues","includes","isArrayOfClass","item","finalAssertExports","quotaErrorCallbacks","Set","registerQuotaErrorCallback","callback","assert","add","_cacheNameDetails","googleAnalytics","precache","prefix","runtime","suffix","registration","scope","_createCacheName","filter","length","eachCacheNameDetail","fn","cacheNames","updateDetails","getGoogleAnalyticsName","userCacheName","getPrecacheName","getPrefix","getRuntimeName","getSuffix","stripParams","fullURL","ignoreParams","strippedURL","URL","param","searchParams","delete","href","cacheMatchIgnoreParams","cache","request","matchOptions","strippedRequestURL","match","keysOptions","assign","ignoreSearch","cacheKeys","cacheKey","strippedCacheKeyURL","supportStatus","canConstructReadableStream","undefined","ReadableStream","canConstructResponseFromBodyStream","testResponse","Response","body","dontWaitFor","promise","then","Deferred","Promise","resolve","reject","executeQuotaErrorCallbacks","getFriendlyURL","urlObj","String","location","replace","RegExp","timeout","ms","setTimeout","MAX_RETRY_TIME","resultingClientExists","resultingClientId","existingWindows","clients","matchAll","existingWindowIds","map","w","id","resultingWindow","startTime","performance","now","find","has","waitUntil","event","asyncFn","returnPromise","_cacheNames","copyResponse","response","modifier","responseURL","clonedResponse","clone","responseInit","headers","Headers","statusText","modifiedResponseInit","blob","clientsClaim","addEventListener","claim","setCacheNameDetails","forEach","skipWaiting"],"mappings":"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"}